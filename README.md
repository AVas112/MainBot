# Проект: Умный Telegram-бот на Python с интеграцией OpenAI GPT

## Что это за проект?

Привет! Перед вами Telegram-бот, которого я разработал на Python. Это не просто бот-ответчик, а полноценный автоматизированный ассистент для общения с пользователями. Идея была в том, чтобы создать систему, которая могла бы не только поддерживать диалог, но и понимать специфику конкретного продукта или услуги, собирать нужную информацию и даже помогать с отчетностью.

В основе бота лежит интеграция с **OpenAI Assistants API (v2)**. Причем ассистент не просто использует общие знания GPT — он **специально настроен и имеет доступ к подробной информации о конкретном продукте/услуге** (на основе предоставленных мной данных). Это позволяет ему вести предметный разговор, отвечать на специфические вопросы и действовать как настоящий виртуальный консультант.

## Что умеет этот бот?

*   **Общаться в Telegram:** Принимает сообщения и ведет диалог с каждым пользователем индивидуально.
*   **Быть "экспертом" по продукту:** Благодаря интеграции с настроенным ассистентом OpenAI, бот может предоставлять детальную информацию о продукте, отрабатывать возражения и консультировать пользователей.
*   **Запоминать контекст:** Для каждого пользователя создается отдельный "поток" (`thread`) в OpenAI, так что бот помнит, о чем шла речь ранее в диалоге.
*   **Собирать контакты (если нужно):** Если в ходе разговора ассистенту требуется уточнить у пользователя имя или телефон, бот аккуратно обработает этот запрос (используя `tool calls` OpenAI).
*   **Хранить переписку:** Все диалоги (и пользователя, и бота) записываются в базу данных SQLite. Это полезно для анализа и отчетности.
*   **Отправлять уведомления:** Как только бот успешно получает контакты клиента, он формирует красивое HTML-письмо с деталями заказа и всей историей переписки и отправляет его на нужный email.
*   **Готовить отчеты:** Каждый день бот сам собирает все диалоги за последние 24 часа, оформляет их в виде HTML-отчета и отправляет по email. За расписание отвечает `APScheduler`.
*   **Работать через прокси:** Если нужно, бот может подключаться к API Telegram и OpenAI через SOCKS5 прокси.

## На чем это написано? (Технологии)

*   **Язык:** Python 3.11+
*   **Асинхронность:** `asyncio` (потому что бот должен шустро обрабатывать много запросов)
*   **Telegram:** `python-telegram-bot`
*   **OpenAI:** `openai` (с упором на Assistants API v2)
*   **База данных:** `aiosqlite` (асинхронная работа с SQLite)
*   **Планировщик:** `APScheduler` (для ежедневных отчетов)
*   **Настройки:** `pydantic-settings` (удобно работать с `.env`)
*   **Сеть:** `httpx` (для запросов к API, умеет работать с прокси)
*   **Email:** `smtplib` (стандартная библиотека Python)
*   **Зависимости:** `Poetry`
*   **Чистота кода:** `Ruff`, `autoflake`

## Что этот проект говорит обо мне как о разработчике?

Работа над этим ботом позволила мне прокачать и продемонстрировать целый ряд навыков:

*   **Уверенное владение Python:** От написания чистого кода до использования современных библиотек и фреймворков.
*   **Асинхронное программирование:** Я спроектировал бота так, чтобы он мог эффективно обрабатывать множество одновременных диалогов и запросов к API без зависаний.
*   **Интеграция со сложными API:** Я разобрался и успешно применил не самые тривиальные API, такие как OpenAI Assistants API (v2) с его потоками и вызовами инструментов, а также Telegram Bot API.
*   **Работа с базами данных:** Спроектировал простую, но эффективную схему БД на SQLite и реализовал асинхронное взаимодействие с ней.
*   **Проектирование архитектуры:** Старался применять хорошие практики и паттерны (где это было уместно), чтобы код был понятным, гибким и его можно было легко дорабатывать.
*   **Автоматизация рутины:** Реализовал фоновые задачи для генерации и отправки отчетов.
*   **Внимание к деталям:** Настроил логирование, обработку ошибок, управление конфигурацией.
*   **Современный инструментарий:** Использовал `Poetry` и `Ruff` для поддержания порядка в зависимостях и коде.

## Как AI помогал в разработке?

Да, я использовал AI-инструменты (вроде GitHub Copilot и ChatGPT) при работе над этим проектом. Где-то они помогали быстрее написать шаблонный код, где-то — найти нужную информацию по библиотекам или подсказать вариант рефакторинга.

Но хочу подчеркнуть: AI был именно **помощником**. Всю архитектуру, основную логику, интеграцию компонентов, отладку и финальную реализацию я продумывал и делал **сам**. Для меня использование AI — это про умение эффективно применять современные инструменты, чтобы быстрее двигаться вперед и фокусироваться на действительно важных и сложных частях проекта. Этот бот — полностью моя работа, которую я успешно довел от идеи до работающего решения, а AI-инструменты просто помогли сделать это немного быстрее и продуктивнее.
